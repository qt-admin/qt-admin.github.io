import{d as A,r as V,a as f,R as b,f as d,v as O,o as m,c as h,x as $,k as w,w as o,e as l,F as j,y as H,h as i,E as _,p as T,j as G,b as J,_ as K}from"./index--nBzsfPe.js";const Q=s=>(T("data-v-f26bd80a"),s=s(),G(),s),W={class:"wrap"},X=Q(()=>J("div",{slot:"tip",class:"el-upload__tip ml-20 important-mt-0"}," 附件最多不超过 5 个，最大不超过 10M。 ",-1)),Y=A({__name:"form-basic",setup(s){const t=V({userName:"",department:"",phone:"",email:"",createDate:"",status:0,source:"PC",remark:"",fileList:[]}),x=f([{id:"001",name:"测试部门"},{id:"002",name:"研发部门"},{id:"003",name:"设计部门"},{id:"004",name:"职能部门"},{id:"005",name:"后勤部门"}]),E=V({userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"change"}],phone:[{required:!0,validator:k,trigger:"blur"}],email:[{required:!0,validator:y,trigger:"blur"}]});function k(r,e,n){if(!e)return n(new Error("请输入手机号"));if(!b.PHONE.test(e))return n(new Error("手机号格式不正确"));n()}function y(r,e,n){if(!e)return n(new Error("请输入邮箱"));if(!b.EMAIL.test(e))return n(new Error("邮箱格式不正确"));n()}function C(r){}function N(r){const e=r.size/1024/1024<10;return e||_.error("上传文件不能超过 10MB!"),e}function P(r,e){_.warning(`当前限制选择 5 个文件，本次选择了 ${r.length} 个文件，共选择了 ${r.length+e.length} 个文件`)}function U(r,e){t.fileList=e}const p=f(),v=f(!1);function R(){var r;_.warning("返回上一页或者关闭当前页面"),(r=p.value)==null||r.resetFields()}function B(){var r;(r=p.value)==null||r.validate(e=>{e&&console.log(t)})}return(r,e)=>{const n=d("el-input"),u=d("el-form-item"),D=d("el-option"),L=d("el-select"),q=d("el-date-picker"),F=d("el-switch"),g=d("el-radio"),I=d("el-radio-group"),c=d("el-button"),z=d("el-upload"),M=d("el-form"),S=O("loading");return m(),h("main",W,[$((m(),w(M,{ref_key:"formRef",ref:p,model:t,rules:E,"label-width":"80px"},{default:o(()=>[l(u,{label:"用户名",prop:"userName"},{default:o(()=>[l(n,{modelValue:t.userName,"onUpdate:modelValue":e[0]||(e[0]=a=>t.userName=a),placeholder:"请输入",maxlength:20,clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"部门",prop:"department"},{default:o(()=>[l(L,{modelValue:t.department,"onUpdate:modelValue":e[1]||(e[1]=a=>t.department=a),placeholder:"请选择",clearable:""},{default:o(()=>[(m(!0),h(j,null,H(x.value,a=>(m(),w(D,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"手机号",prop:"phone"},{default:o(()=>[l(n,{modelValue:t.phone,"onUpdate:modelValue":e[2]||(e[2]=a=>t.phone=a),placeholder:"请输入",maxlength:11,clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"邮箱",prop:"email"},{default:o(()=>[l(n,{modelValue:t.email,"onUpdate:modelValue":e[3]||(e[3]=a=>t.email=a),placeholder:"请输入",maxlength:30,clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"创建日期",prop:"createDate"},{default:o(()=>[l(q,{modelValue:t.createDate,"onUpdate:modelValue":e[4]||(e[4]=a=>t.createDate=a),type:"date",placeholder:"请选择",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"状态",prop:"status"},{default:o(()=>[l(F,{modelValue:t.status,"onUpdate:modelValue":e[5]||(e[5]=a=>t.status=a),"active-value":1,"inactive-value":0,"inline-prompt":"","active-text":"启用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(u,{label:"来源",prop:"source"},{default:o(()=>[l(I,{modelValue:t.source,"onUpdate:modelValue":e[6]||(e[6]=a=>t.source=a)},{default:o(()=>[l(g,{value:"PC"},{default:o(()=>[i("PC")]),_:1}),l(g,{value:"APP"},{default:o(()=>[i("APP")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"备注",prop:"remark"},{default:o(()=>[l(n,{modelValue:t.remark,"onUpdate:modelValue":e[7]||(e[7]=a=>t.remark=a),placeholder:"请输入",maxlength:200,clearable:"","show-word-limit":"",type:"textarea",autosize:{minRows:3,maxRows:6}},null,8,["modelValue"])]),_:1}),l(u,{label:"附件"},{default:o(()=>[l(z,{class:"upload",action:"","http-request":C,"on-remove":U,multiple:"",limit:5,"on-exceed":P,"before-upload":N,"file-list":t.fileList},{default:o(()=>[l(c,{size:"small",type:"primary"},{default:o(()=>[i(" 点击上传 ")]),_:1}),X]),_:1},8,["file-list"])]),_:1}),l(u,{class:"pt-40"},{default:o(()=>[l(c,{onClick:R},{default:o(()=>[i("关闭")]),_:1}),l(c,{loading:v.value,type:"primary",onClick:B},{default:o(()=>[i("确定")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])),[[S,v.value]])])}}}),ee=K(Y,[["__scopeId","data-v-f26bd80a"]]);export{ee as default};
